@startuml

skin rose

autonumber

actor Клиент
participant Сайт
participant Система_обработки_заявок
participant Скоринг
participant Печать
participant Доставка

activate Клиент
Клиент -> Сайт: Оформляет заявку на карту

activate Сайт
Сайт -> Система_обработки_заявок: Отправка заявки

activate Система_обработки_заявок
Система_обработки_заявок -> Скоринг: Проверка клиента


activate Скоринг
Скоринг --> Система_обработки_заявок: Одобрено

Система_обработки_заявок -> Печать: Отправка на печать

activate Печать
Печать --> Система_обработки_заявок: Карта напечатана

Система_обработки_заявок --> Сайт: Сообщение о готовности карты
deactivate Система_обработки_заявок

Сайт --> Клиент: Уведомление о готовности карты
deactivate Сайт

Печать -> Доставка: Отправка на доставку
deactivate Печать

activate Доставка
Доставка --> Клиент: Доставка карты
deactivate Доставка

alt Клиент не одобрен
    
    Скоринг --> Система_обработки_заявок: Отказано
    deactivate Скоринг

    activate Система_обработки_заявок
    Система_обработки_заявок --> Сайт: Сообщение об отказе
    deactivate Система_обработки_заявок

    activate Сайт
    Сайт --> Клиент: Уведомление об отказе
    deactivate Сайт
    deactivate Клиент

end

@enduml
